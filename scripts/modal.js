var f={size:["200 ml","300 ml","400 ml"],additives:["Sugar","Cinnamon","Syrup"]},h={size:["200 ml","300 ml","400 ml"],additives:["Sugar","Lemon","Syrup"]},y={size:["50 g","100 g","200 g"],additives:["Berries","Nuts","Jam"]};var t=document.querySelector(".modal"),r=document.querySelector(".page-body__overlay"),_=document.querySelector(".page-body"),m=t.querySelector(".modal__close"),w=e=>{t.querySelector(".modal__picture").src=e.querySelector(".assortment__picture").src,t.querySelector(".modal__name").textContent=e.querySelector(".assortment__name").textContent,t.querySelector(".modal__description").textContent=e.querySelector(".assortment__description").textContent,t.querySelector(".modal__price").textContent=e.querySelector(".assortment__price").textContent},d=e=>{t.querySelector(".modal__size-signature--small").textContent=e.size[0],t.querySelector(".modal__size-signature--medium").textContent=e.size[1],t.querySelector(".modal__size-signature--large").textContent=e.size[2],t.querySelector(".modal__additives-signature--first").textContent=e.additives[0],t.querySelector(".modal__additives-signature--second").textContent=e.additives[1],t.querySelector(".modal__additives-signature--third").textContent=e.additives[2]},C=()=>{let e=document.querySelector(".assortment__button--current");e.classList.contains("assortment__button--coffee")?d(f):e.classList.contains("assortment__button--tea")?d(h):e.classList.contains("assortment__button--dessert")&&d(y)},g=t.querySelector(".modal__size-button--small"),u=t.querySelector(".modal__size-button--medium"),p=t.querySelector(".modal__size-button--large"),b=.5,v=1,i=e=>{let n=e.target.closest(".modal__size-button");if(n){let o=t.querySelector(".modal__price"),s=Number(o.textContent.substring(1));g.classList.remove("modal__size-button--current"),u.classList.contains("modal__size-button--current")&&(u.classList.remove("modal__size-button--current"),s-=b),p.classList.contains("modal__size-button--current")&&(p.classList.remove("modal__size-button--current"),s-=v),n.classList.add("modal__size-button--current"),n.classList.contains("modal__size-button--medium")?s+=b:n.classList.contains("modal__size-button--large")&&(s+=v),o.textContent=`$${s.toFixed(2)}`}},q=()=>{g.addEventListener("click",i),u.addEventListener("click",i),p.addEventListener("click",i)},L=()=>{document.querySelectorAll(".modal__size-button").forEach(n=>{n.removeEventListener("click",i),n.classList.remove("modal__size-button--current")}),g.classList.add("modal__size-button--current")},E=t.querySelector(".modal__additives-button--first"),z=t.querySelector(".modal__additives-button--second"),$=t.querySelector(".modal__additives-button--third"),k=.5,a=e=>{let n=e.target.closest(".modal__additives-button"),o=t.querySelector(".modal__price"),s=Number(o.textContent.substring(1));n.classList.contains("modal__additives-button--current")?(n.classList.remove("modal__additives-button--current"),s-=k):(n.classList.add("modal__additives-button--current"),s+=k),o.textContent=`$${s.toFixed(2)}`},j=()=>{E.addEventListener("click",a),z.addEventListener("click",a),$.addEventListener("click",a)},S=()=>{document.querySelectorAll(".modal__additives-button").forEach(n=>{n.removeEventListener("click",a),n.classList.remove("modal__additives-button--current")})},c,l,x=()=>{c=()=>{t.style.display="none",r.style.display="none",_.style.overflow="auto",m.removeEventListener("click",c),r.removeEventListener("click",l),L(),S()},m.addEventListener("click",c)},I=()=>{l=e=>{e.target!==t&&(t.style.display="none",r.style.display="none",_.style.overflow="auto",m.removeEventListener("click",c),r.removeEventListener("click",l),L(),S())},r.addEventListener("click",l)},D=()=>{document.querySelectorAll(".assortment__link").forEach(n=>{n.addEventListener("click",o=>{o.preventDefault(),t.style.display="block",r.style.display="block",_.style.overflow="hidden",w(n),C(),q(),j(),x(),I()})})};export{D as onProductHandler};
